(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[70228],{76749:(e,t,r)=>{"use strict";r.d(t,{Si:()=>n,g0:()=>a,Ji:()=>i,zq:()=>l,II:()=>o,U3:()=>c,Yx:()=>s});var n=Object.freeze({NO_RATING:0,BAD:1,GOOD:5,EXCELLENT:10,0:"NO_RATING",1:"BAD",5:"GOOD",10:"EXCELLENT"}),a=Object.freeze({SELLER_INTRO:0,RATING_SELECTION:1,WRITE_FEEDBACK:2,PURCHASE_CONFIRMATION:3,FINISH:4,0:"SELLER_INTRO",1:"RATING_SELECTION",2:"WRITE_FEEDBACK",3:"PURCHASE_CONFIRMATION",4:"FINISH"}),i=Object.freeze({AD:"ad_page",AD_PAGE:"ad",FEEDBACK_PUSH:"push",PROFILE:"seller_listing",EMAIL:"email",PUSH:"feedback_push",SELLER_LISTING:"profile",MY_OLX:"my_olx"}),l=Object.freeze({AD_PAGE:"adPage",FEEDBACK_PUSH:"push",EMAIL:"email",SELLER_LISTING:"sellerProfile",OLX_SHOP:"olxShop"}),o=Object.freeze({SELLER_INTRO:"feedback_landing",RATING_SELECTION:"rate_experience",WRITE_FEEDBACK:"feedback_experience",PURCHASE_CONFIRMATION:"did_you_buy",FINISH:"review_done",EMAIL:"feedback_email",AD:"ad_page",PROFILE:"seller_listing"}),c=Object.freeze({EXIT:"exit_feedback_click",FINISH:"review_done_click",LEARN_MORE:"help_rating_click",PURCHASE_CONFIRMATION_NOT_PURCHASED:"feedback_not_bought_click",PURCHASE_CONFIRMATION_PURCHASED:"feedback_bought_click",RATING_SELECTION:"rating_click",REPORT_USER:"contact_support_click",WRITE_FEEDBACK:"write_feedback_click",RATE_EXPERIENCE:"rate_experience_click"}),s=Object.freeze({olxpl:"SRT-683",olxua:"SRT-682",olxro:"SRT-684",olxuz:"SRT-663",olxpt:"SRT-651",olxbg:"SRT-639",olxkz:"SRT-627"})},69399:(e,t,r)=>{"use strict";r.d(t,{v:()=>o,Y:()=>s});var n=r(69910),a=r(8120);function i(e,t,r,n,a,i,l){try{var o=e[i](l),c=o.value}catch(s){return void r(s)}o.done?t(c):Promise.resolve(c).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var l=e.apply(t,r);function o(e){i(l,n,a,o,c,"next",e)}function c(e){i(l,n,a,o,c,"throw",e)}o(void 0)}))}}function o(e,t){return c.apply(this,arguments)}function c(){return(c=l((function*(e,t){try{var{khonor:r}=yield(0,n.iE)().getAllPromisified(),a="".concat(r.base).concat(r.feedback,"/").concat(e,"/badge/delivery"),{body:[{data:{amount:i},achievements:l}]}=yield(0,n.Nv)(a);return{amount:i,achievements:l}}catch(o){return t(o),{amount:0,achievements:[]}}}))).apply(this,arguments)}function s(e,t,r){return u.apply(this,arguments)}function u(){return(u=l((function*(e,t,r){try{var{khonor:i}=yield(0,n.iE)().getAllPromisified(),l="".concat(i.base).concat(i.feedback,"/").concat(e,"/badge/delivery"),o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.pR.get("access_token"))}};n.Nv.patch(l,{body:{achievement:t}},o)}catch(c){r(c)}}))).apply(this,arguments)}},71413:(e,t,r)=>{"use strict";r.d(t,{f:()=>h});var n=r(76005),a=r.n(n),i=r(47516),l=r(15416),o=r(61819),c=r(39844),s=r(13008),u=r(69399),d=r(12085),f=r.n(d);function E(e,t,r,n,a,i,l){try{var o=e[i](l),c=o.value}catch(s){return void r(s)}o.done?t(c):Promise.resolve(c).then(n,a)}function _(){var e=p(["\n    margin-right: ",";\n"]);return _=function(){return e},e}function m(){var e=p(["\n    display: flex;\n    align-items: center;\n    margin-top: ",";\n"]);return m=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=i.Z.div(m(),(({theme:e})=>e.space[16])),v=i.Z.img(_(),(({theme:e})=>e.space[12])),h=({userId:e})=>{var[t,r]=(0,n.useState)(0),{formatMessage:i}=(0,s.Z)();return(0,n.useEffect)((()=>{var t;e&&(t=function*(){try{var{amount:t}=yield(0,u.v)(e),n=(e=>{switch(!0){case e<=5:return e;case e>5&&e<10:return 5;case e>=10&&e<20:return 10;case e>=20&&e<50:return 20;case e>=50&&e<100:return 50;case e>=100&&e<500:return 100;case e>=500:return 500;default:return e}})(t);r(n)}catch(a){(0,c.Jn)(i({id:"error500.title",defaultMessage:"Something went wrong"}))}},function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function l(e){E(i,n,a,l,o,"next",e)}function o(e){E(i,n,a,l,o,"throw",e)}l(void 0)}))})()}),[e]),t?a().createElement(g,{"data-testid":"delivery-badge"},a().createElement(v,{src:f(),alt:"delivery"}),a().createElement(o._o,null,a().createElement(l.Z,{id:"successful_deliveries",defaultMessage:"<b>{amount, number}{suffix}</b> successful delivery",values:{amount:t,b:e=>a().createElement("b",null,e),suffix:t>5?"+":""}}))):null}},65352:(e,t,r)=>{"use strict";var n=r(76005),a=r.n(n),i=r(47516),l=r(13904),o=r(69910),c=r(22831),s=r(5103),u=r(33430),d=r(15416),f=r(5372),E=r(49124),_=r(53016),m=r(73395),p=r(30729);function g(){var e=h(["\n    white-space: nowrap;\n    font-size: ",";\n"]);return g=function(){return e},e}function v(){var e=h(["\n    white-space: nowrap;\n    font-size: ",";\n"]);return v=function(){return e},e}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=(0,i.Z)(c.Z)(v(),(({theme:e})=>e.fontSizes[14])),b=(0,i.Z)(s.default)(g(),(({theme:e})=>e.fontSizes[14]));function R({adId:e,source:t,buttonSecondary:r,giverId:i,receiverId:l}){var o=(0,n.useContext)(m.ZP),{user:{userId:c}}=(0,n.useContext)(_.St);if(!l)return null;var s=(0,E.SJ)(o),g=(0,p.B)(i||c,t,e,l),v=((e,t,r,n)=>{var a="/feedback/".concat(t);switch(e){case p.g.AD_TOUCH_POINT:return"".concat(a,"/").concat(r,"/?from=").concat(e);case p.g.SHOP_TOUCH_POINT:return"".concat(n||"").concat(a,"/?from=").concat(e);default:return"".concat(a,"/?from=").concat(e)}})(t,l,e,s),h=()=>{u.ap.trackEvent(p.g.RATE_EXPERIENCE_EVENT,g)};return r?a().createElement("span",{"data-testid":"seller-rate-track-button-secondary",onClick:h},a().createElement(b,{size:"small",link:(0,f.oz)(v)},a().createElement(d.Z,{id:"srt.feedback.startButton",defaultMessage:"Rate experience"}))):a().createElement("span",{onClick:h},a().createElement(O,{size:"small",link:(0,f.oz)(v),"data-testid":"seller-rate-track-button"},a().createElement(d.Z,{id:"srt.feedback.startButton",defaultMessage:"Rate experience"})))}var S={olxpl:"SRT-683",olxua:"SRT-682",olxro:"SRT-684",olxuz:"SRT-663",olxpt:"SRT-651",olxbg:"SRT-639",olxkz:"SRT-627"}[(0,o.ti)()];t.ZP=e=>(0,l.default)(S||"")&&(0,o.iH)()?a().createElement(R,e):null},64778:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SELLER_SCORE_LABEL:()=>V,SellerRating:()=>ie,default:()=>oe,getBackgroundColor:()=>Q});var n=r(76005),a=r.n(n),i=r(47516),l=r(15416),o=r(13904),c=r(69910),s=r(53562),u=r(76749),d=r(40925),f=r(11606),E=r.n(f),_=r(29376),m=r.n(_),p=r(17269),g=r.n(p);function v(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    margin-right: ",";\n    border-radius: ",";\n    background-color: ",";\n    padding: ",";\n    width: ",";\n    height: ",";\n"]);return v=function(){return e},e}var h=i.Z.img(v(),(({theme:e})=>e.space[10]),(({theme:e})=>e.sizes[4]),(({label:e,theme:t})=>Q(e,t)),(({theme:e})=>e.space[4]),(({theme:e})=>e.sizes[32]),(({theme:e})=>e.sizes[32])),O=e=>{switch(e.toUpperCase()){case V.POOR:return g();case V.FAIR:case V.GOOD:return m();case V.SUPER:return E();default:return null}},b=({label:e})=>e?a().createElement(h,{src:O(e),label:e,"data-testid":"listing-seller-rating-score-buckets"}):null,R=r(11039),S=r(73395),T=r(61819),I=r(43904),x=r(15674),P=r(34925),N=r(33430);function k(){var e=C(["\n    align-self: flex-end;\n    color: ",";\n"]);return k=function(){return e},e}function y(){var e=C(["\n    display: flex;\n    flex-direction: column;\n"]);return y=function(){return e},e}function A(){var e=C(["\n    position: relative;\n    cursor: pointer;\n    color: ",";\n    margin-left: ",";\n"]);return A=function(){return e},e}function w(){var e=C(["\n    padding: 0;\n    ",";\n"]);return w=function(){return e},e}function C(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L=(0,i.Z)(R.default)(w(),(({ratingPositionExperiment:e})=>e&&"color: transparent")),z=(0,i.Z)(I.Z)(A(),(({theme:e})=>e.colors.grey4),(({theme:e})=>e.space[10])),Z=(0,i.Z)(x.u)(y()),M=(0,i.Z)(R.default)(k(),(({theme:e})=>e.colors.white)),D="srt-1191",F={showTooltip:"b"},H=({ratingPositionExperiment:e,source:t})=>{var{externalUrl:{feedbackHelp:r}}=(0,n.useContext)(S.ZP),i=(0,P.default)(D),[o,c]=(0,n.useState)(!0),s=localStorage.getItem("toolTipShown"),d=e=>{e.preventDefault(),c(!1),localStorage.setItem("toolTipShown","true")};return r?a().createElement(L,{link:r,ratingPositionExperiment:e,"data-testid":"learn-more",onClick:()=>{N.ap.trackEvent(u.U3.LEARN_MORE,{touch_point_page:t})}},e?a().createElement(z,{size:"icon-medium","data-testid":"info-icon"}):"true"!==s&&i===F.showTooltip?a().createElement(Z,{position:"bottom",size:"large",toggleNode:a().createElement(T.Zn,null,a().createElement(l.Z,{id:"srt_feedback_learn_more",defaultMessage:"How do ratings work?"})),visible:o},a().createElement(l.Z,{id:"srt.feedback.info.tooltip",defaultMessage:"Find out what each rating means and learn how to rate sellers on our help center"}),a().createElement(M,{onClick:d,size:"small","data-testid":"got-it-button"},a().createElement(l.Z,{id:"srt.feedback.info.tooltip.button",defaultMessage:"Got it"}))):a().createElement(T.Zn,null,a().createElement(l.Z,{id:"srt_feedback_learn_more",defaultMessage:"How do ratings work?"}))):null};function U(e,t,r,n,a,i,l){try{var o=e[i](l),c=o.value}catch(s){return void r(s)}o.done?t(c):Promise.resolve(c).then(n,a)}function j(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function l(e){U(i,n,a,l,o,"next",e)}function o(e){U(i,n,a,l,o,"throw",e)}l(void 0)}))}}function B(){var e=Y(["\n    width: 100%;\n    ",";\n    align-items: center;\n    padding: "," 0;\n    border-bottom: ",";\n"]);return B=function(){return e},e}function G(){var e=Y(["\n    margin-top: ",";\n"]);return G=function(){return e},e}function X(){var e=Y(["\n    margin-top: ",";\n"]);return X=function(){return e},e}function K(){var e=Y(["\n    font-weight: ",";\n"]);return K=function(){return e},e}function J(){var e=Y(["\n    color: ",";\n    margin: ",";\n    font-size: ",";\n    align-self: center;\n"]);return J=function(){return e},e}function W(){var e=Y(["\n    display: flex;\n    flex-flow: row nowrap;\n"]);return W=function(){return e},e}function Y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var V={SUPER:"SUPER",GOOD:"GOOD",FAIR:"FAIR",POOR:"POOR",NONE:"NONE"},q={olxpl:"tablica-pl",olxua:"slando-ua",olxro:"mercador-ro",olxpt:"fixeads-olx-portugal",olxkz:"slando-kz",olxbg:"api-project-128395742319",olxuz:"torg-torg-com"},Q=(e,t)=>{switch(e){case V.POOR:return t.colors.redTintDark;case V.FAIR:return t.colors.yellowTintDark;case V.GOOD:return t.colors.tealTintDark;case V.SUPER:default:return t.colors.blueTintDark}},$=i.Z.div(W()),ee=i.Z.p(J(),(({theme:e})=>e.colors.charcoal),(({theme:e})=>e.space[0]),(({theme:e})=>e.fontSizes[14])),te=i.Z.span(K(),(({theme:e})=>e.fontWeights.bold)),re=i.Z.div(X(),(({theme:e})=>e.space[6])),ne=i.Z.div(G(),(({theme:e})=>e.space[14])),ae=i.Z.div(B(),(({theme:e,ratingPositionExperiment:t})=>t&&"display: flex;\n        justify-content: space-between;\n    "),(({theme:e})=>e.space[14]),(({theme:e,ratingPositionExperiment:t})=>t&&"".concat(e.borders.grey3100)));function ie({userId:e,category:t,trackPageView:r,isSellerListing:i,isMyOLX:o,showLearnMoreButton:f,isAdPreview:E,ratingPositionExperiment:_}){var[m,p]=(0,n.useState)(0),[g,v]=(0,n.useState)(void 0),[h,O]=(0,n.useState)(void 0),R=(0,c.ti)(),{hasScore:S,setHasScore:T}=(0,n.useContext)(d.Z),I=(0,n.useCallback)(function(){var e=j((function*(e){var t=(0,c.iE)(),r=yield t.getPromisified("khonor"),n={cache:(0,c.au)(t)},a="".concat(r.base,"/api/firebase/config/").concat(e),{seller_rep_show_ratings:{categories:i}}=yield(0,c.Nv)(a,void 0,n);return i}));return function(t){return e.apply(this,arguments)}}(),[]),x=(0,n.useCallback)(function(){var e=j((function*(e){var{score:t,label:r}=yield(0,s.i)(e,o,E);"number"===typeof t&&r&&(p(t),v(r.toUpperCase()))}));return function(t){return e.apply(this,arguments)}}(),[s.i]),P=(0,n.useCallback)(j((function*(){if(!t)return O(!0);(yield I(q[R])).includes(t)?O(!0):O(!1)})),[t,R,O,I]);(0,n.useEffect)((()=>{e&&(x(e),P())}),[e,x,P]),(0,n.useEffect)((()=>{"undefined"!==typeof h&&"undefined"!==typeof g&&T(h?"NONE"===g?0:1:null)}),[h,g]),(0,n.useEffect)((()=>{r&&("undefined"!==typeof S?r({has_score:S,seller_score:m}):i&&"undefined"!==typeof g&&r({has_score:"NONE"===g?null:m>0?1:0,seller_score:m}))}),[S,g]);return h?g===V.NONE?a().createElement(ne,null,a().createElement(l.Z,{id:"srt_rating_none",defaultMessage:"This seller hasn't received any ratings yet. Be the first person to rate your experience with them!"})):a().createElement(ae,{ratingPositionExperiment:_},a().createElement($,null,a().createElement(a().Fragment,null,a().createElement(b,{label:g}),a().createElement(ee,{"data-testid":"listing-seller-rating-sentiment"},function(e,t){switch(e){case V.POOR:return a().createElement(a().Fragment,null,t&&a().createElement(a().Fragment,null,a().createElement(te,null,a().createElement(l.Z,{id:"srt_rating_poor_score_title",defaultMessage:"Poor:"}))," "),a().createElement(l.Z,{id:"srt_rating_poor_desc",defaultMessage:"Most buyers are not satisfied with this lister"}));case V.FAIR:return a().createElement(a().Fragment,null,t&&a().createElement(a().Fragment,null,a().createElement(te,null,a().createElement(l.Z,{id:"srt_rating_fair_score_title",defaultMessage:"Fair:"}))," "),a().createElement(l.Z,{id:"srt_rating_fair_desc",defaultMessage:"Most buyers are reasonably satisfied with this lister"}));case V.GOOD:return a().createElement(a().Fragment,null,t&&a().createElement(a().Fragment,null,a().createElement(te,null,a().createElement(l.Z,{id:"srt_rating_good_score_title",defaultMessage:"Good:"}))," "),a().createElement(l.Z,{id:"srt_rating_good_desc",defaultMessage:"Most buyers are satisfied with this lister"}));case V.SUPER:return a().createElement(a().Fragment,null,t&&a().createElement(a().Fragment,null,a().createElement(te,null,a().createElement(l.Z,{id:"srt_rating_super_score_title",defaultMessage:"Excellent:"}))," "),a().createElement(l.Z,{id:"srt_rating_super_desc",defaultMessage:"Most buyers are extremely satisfied with this lister"}));case V.NONE:return a().createElement(l.Z,{id:"srt_rating_none",defaultMessage:"This seller hasn't received any ratings yet. Be the first person to rate your experience with them!"});default:return}}(V[g],!0)))),f&&a().createElement(re,null,a().createElement(H,{ratingPositionExperiment:_,source:(()=>{switch(!0){case i:return u.Ji.PROFILE;case o:return u.Ji.MY_OLX;default:return u.Ji.AD}})()}))):null}var le={olxpl:{private:"SRT-474",business:"SRT-475"},olxua:{private:"SRT-477",business:"SRT-479"},olxro:{private:"SRT-544",business:"SRT-545"},olxuz:{private:"SRT-671",business:"SRT-669"},olxpt:{private:"SRT-659",business:"SRT-657"},olxbg:{private:"SRT-647",business:"SRT-645"},olxkz:{private:"SRT-635",business:"SRT-633"}}[(0,c.ti)()],oe=e=>{var t=(null===e||void 0===e?void 0:e.isBusiness)?null===le||void 0===le?void 0:le.business:null===le||void 0===le?void 0:le.private,r=(0,o.default)(t||"");return Boolean(r)&&e.userId?a().createElement(ie,e):null}},30729:(e,t,r)=>{"use strict";r.d(t,{g:()=>n,B:()=>a});var n=Object.freeze({RATE_EXPERIENCE_EVENT:"rate_experience_click",AD_TOUCH_POINT:"ad_page",PROFILE_TOUCH_POINT:"seller_listing",SHOP_TOUCH_POINT:"olx_shop",EMAIL_TOUCH_POINT:"email"}),a=(e,t,r,a)=>({ad_id:r,feedback_id:null,user_id:e,feedback_giver_id:e,touch_point_page:(e=>{switch(e){case"ad_page":return n.AD_TOUCH_POINT;case"seller_listing":return n.PROFILE_TOUCH_POINT;case"olx_shop":return n.SHOP_TOUCH_POINT;default:return null}})(t),feedback_receiver_id:a})},57401:(e,t,r)=>{"use strict";r.d(t,{f:()=>l});var n=r(76005),a=r.n(n),i=()=>"",l=({to:e,url:t,name:r,children:n,className:l,uriParams:o,newTab:c,onClick:s,nofollow:u})=>{var d=t||i;return a().createElement("a",{href:e||d(r,o),onClick:s,target:c?"_blank":"",className:l,rel:u?"nofollow":void 0},n)}},17269:(e,t,r)=>{e.exports=r.p+"static/media/ratingSelectBad.9e2f0fcfa.svg"},11606:(e,t,r)=>{e.exports=r.p+"static/media/ratingSelectExcellent.351f9960e.svg"},29376:(e,t,r)=>{e.exports=r.p+"static/media/ratingSelectGood.5fe786a96.svg"},12085:(e,t,r)=>{e.exports=r.p+"static/media/badge_delivery.f62906b4f.svg"}}]);
//# sourceMappingURL=70228.e78cd586a.chunk.js.map
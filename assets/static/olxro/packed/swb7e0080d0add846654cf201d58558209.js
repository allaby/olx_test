$(function(){new ObserveSearchClass()});ObserveSearchClass=BaseClass.extend({init:function(){this._super();this.initGlobal();this.initGoToTop();this.bindClicks()},bindClicks:function(){$('#clearAllObserved').click(function(e){e.preventDefault();var s=confirm('Sigur vrei sa continui?'),href=$(this).attr('href');if(s===true)if(typeof NinjaTracker!=='undefined')NinjaTracker.push(NinjaTracker.mergeValidOptionalParams(NinjaTracker.getDataFrom(trackingData.pageView),{trackEvent:['favourite_search_deleted'],action_type:'favourite_search_deleted',touch_point_page:'my_observed_searches',touch_point_button:'all',linkCallBack:function(){window.location.href=href}}))})},initGoToTop:function(){var gotophtml='<a id="gotop" class="fix bgfff br-1 tdnone normal color-1 tcenter" style="display:none; bottom:0px"><i data-icon="arrow-up"></i></a>';$('body').append(gotophtml);$('a#gotop').click(function(){$('html, body').animate({scrollTop:0},'slow');return false});var halfContent=parseInt($('#body-container').height()/3),$html=$(document)
function getPositionGoTop(){var positionContent=$('#body-container .content').offset(),widthContent=$('#body-container .wrapper').outerWidth(),goTop=$('#gotop');if($(window).width()>1e3){if(positionContent!=undefined)goTop.css({left:positionContent.left+widthContent-5})}else goTop.css({left:'auto',right:5});if($html.scrollTop()>halfContent){goTop.fadeIn()}else goTop.fadeOut()};if($html.scrollTop()>halfContent)getPositionGoTop();$(window).scrolled(100,function(){getPositionGoTop()});$(window).resize(function(){getPositionGoTop()})},initGlobal:function(){var thiz=this,$mainForm=$('#mainForm'),$removeGlobal=$('#removeGlobal'),$checkboxes=$('input.checkboxRow',$mainForm),handleGlobalCheckboxes=function(){if(!$('input.checkboxRow',$mainForm).length){$('#mainForm, #removeGlobal').remove();$('#noResults').show()}};$checkboxes.click(function(){handleGlobalCheckboxes()});$removeGlobal.click(function(){$('input.checkboxRow',$mainForm).each(function(){$(this).closest('tr.row').find('a.removeMe').click()})});if(typeof $.fn.renderForms=='function')$('.alert-options').renderForms();$('input.alarm_checkbox').change(function(){var $this=$(this);thiz.post('observed','changealarm',{value:$this.is(':checked')?1:0,id:$this.closest('.observedsearch').find('input.checkboxRow').val()})})}});(function(Context){"use strict";var _settings={bindUIActions:{postingFormButton:{selector:'#postNewAdLink',eventType:'click'}}};Context.widgetBase={init:function(){this.bindUIActions();return this},bindUIActions:function(isXHRUIActions){var _$=Context._$;_settings.bindUIActions.postingFormButton.beforeCallback=function(node,e,listener,eventType){e.preventDefault();listener(e);setTimeout(function(){window.location.href=node.getAttribute("href")},500)};_settings.bindUIActions.postingFormButton.afterCallback=function(){};_settings.bindUIActions.postingFormButton.params=function(){return Context.mergeValidOptionalParams(Context.getDataFrom(trackingData.pageView),{trackEvent:['posting_form_click'],action_type:'posting_form_click',touch_point_page:trackingData.pageView.listing_type||trackingData.pageView.trackPage,touch_point_button:'top'})};isXHRUIActions&&Context.unregisterAll();for(var key in _settings.bindUIActions)if(_settings.bindUIActions.hasOwnProperty(key))Context.registerEvent(_settings.bindUIActions[key].selector,_settings.bindUIActions[key].eventType,_settings.bindUIActions[key].params,isXHRUIActions,_settings.bindUIActions[key].beforeCallback||false,_settings.bindUIActions[key].afterCallback||false);return this},XHRCompleted:function(isPageRequest){var isPageRequest=isPageRequest||false;if(isPageRequest)Context.reInit();this.bindUIActions(true);return this}};return Context})((typeof NinjaTracker!=='undefined'?NinjaTracker:{}));(function(Context){"use strict";var _settings={bindUIActions:{postingFormButton:{selector:'#postNewAdLink',eventType:'click'},passwordLoginClick:{selector:'.login-button--email',eventType:'click'},submitLoginFormClick:{selector:'#se_userLogin',eventType:'click'},registerFacebookClick:{selector:'#registerForm .login-button--facebook',eventType:'click'},urgentCargusSubmitClick:{selector:'#courier_request_form #submitButton',eventType:'click'},fanCourierSubmitClick:{selector:'#details-form #create-button',eventType:'click'}}};Context.widgetBase={init:function(){this.bindUIActions();return this},bindUIActions:function(isXHRUIActions){var _$=Context._$;_settings.bindUIActions.postingFormButton.beforeCallback=function(node,e,listener,eventType){e.preventDefault();listener(e);setTimeout(function(){window.location.href=node.getAttribute("href")},500)};_settings.bindUIActions.postingFormButton.afterCallback=function(){};_settings.bindUIActions.postingFormButton.params=function(){return Context.mergeValidOptionalParams(Context.getDataFrom(trackingData.pageView),{trackEvent:['posting_form_click'],action_type:'posting_form_click',touch_point_page:trackingData.pageView.listing_type||trackingData.pageView.trackPage,touch_point_button:'top'})};_settings.bindUIActions.passwordLoginClick.params=function(){return Context.mergeValidOptionalParams(Context.getDataFrom(trackingData.pageView),{trackEvent:['login_password_click'],action_type:'login_password_click',touch_point_page:'login_page'})};_settings.bindUIActions.submitLoginFormClick.params=function(){return Context.mergeValidOptionalParams(Context.getDataFrom(trackingData.pageView),{trackEvent:['login_password_sign_click'],action_type:'login_password_sign_click',touch_point_page:'login_page'})};_settings.bindUIActions.registerFacebookClick.params=function(){return Context.mergeValidOptionalParams(Context.getDataFrom(trackingData.pageView),{trackEvent:['login_fb_click'],action_type:'login_fb_click',touch_point_page:'registration_page'})};_settings.bindUIActions.urgentCargusSubmitClick.params=function(){return Context.mergeValidOptionalParams(Context.getDataFrom(trackingData.pageView),{trackEvent:['courier_cargus_finalize_click'],action_type:'courier_cargus_finalize_click'})};_settings.bindUIActions.fanCourierSubmitClick.params=function(){return Context.mergeValidOptionalParams(Context.getDataFrom(trackingData.pageView),{trackEvent:['courier_fan_finalize_click'],action_type:'courier_fan_finalize_click'})};isXHRUIActions&&Context.unregisterAll();for(var key in _settings.bindUIActions)if(_settings.bindUIActions.hasOwnProperty(key))Context.registerEvent(_settings.bindUIActions[key].selector,_settings.bindUIActions[key].eventType,_settings.bindUIActions[key].params,isXHRUIActions,_settings.bindUIActions[key].beforeCallback||false,_settings.bindUIActions[key].afterCallback||false);return this},XHRCompleted:function(isPageRequest){var isPageRequest=isPageRequest||false;if(isPageRequest)Context.reInit();this.bindUIActions(true);return this}};return Context})((typeof NinjaTracker!=='undefined'?NinjaTracker:{}));(function(Context){"use strict";var _settings={removeObservedSearch:{selector:'.usersearch-list .removeObservedSearch',eventType:'click'},removeObservedAd:{selector:'.removeObservedAd',eventType:'click'}};Context.widget={init:function(){this.bindUIActions();return this},bindUIActions:function(){var _$=Context.$;_settings.removeObservedSearch.params=function(){return Context.mergeValidOptionalParams(Context.getDataFrom(trackingData.pageView),{trackEvent:['favourite_search_deleted'],action_type:'favourite_search_deleted',touch_point_page:'my_observed_searches',touch_point_button:'single'})};_settings.removeObservedAd.params=function(){return Context.mergeValidOptionalParams(Context.getDataFrom(trackingData.pageView),{trackEvent:['favourite_ad_deleted'],action_type:'favourite_ad_deleted',touch_point_page:'my_observed_ads',touch_point_button:'single'})};Context.unregisterAsyncPayload();for(var key in _settings)if(_settings.hasOwnProperty(key))Context.registerEvent(_settings[key].selector,_settings[key].eventType,_settings[key].params,true,_settings[key].beforeCallback||false,_settings[key].afterCallback||false,_settings[key].delayLocation||false);return this},XHRCompleted:function(isPageRequest){var isPageRequest=isPageRequest||false;if(isPageRequest)Context.reInit();this.bindUIActions();return this}};return Context})((typeof NinjaTracker!=='undefined'?NinjaTracker:{}));